# Meshy Roblox Bridge

A local Bridge application that uploads 3D models generated by Meshy to Roblox with one click.

## How It Works

```
Meshy Webapp (Browser)
    │
    │  HTTP fetch (localhost:5330)
    │
Meshy Roblox Bridge (Local App)
    │
    │  OAuth + Open Cloud API
    │
Roblox Cloud → User Inventory → Roblox Studio Toolbox
```

The Bridge runs locally and communicates with the Meshy Webapp via `localhost:5330` (same pattern as Unity/Blender and other DCC Bridges).

## API Endpoints

| Method | Path | Description |
|--------|------|-------------|
| GET  | `/status` | Check if Bridge is running and Roblox connection status |
| POST | `/connect` | Trigger Roblox OAuth authorization (opens browser) |
| POST | `/import` | Accept model URL and upload to Roblox |
| GET  | `/upload-status/{id}` | Poll upload status |
| POST | `/disconnect` | Disconnect from Roblox |

## Local Development

### 1. Install Dependencies

```bash
cd scripts/roblox-test-server
pip install -r requirements.txt
```

### 2. Configure .env

```env
# Roblox OAuth App
ROBLOX_CLIENT_ID=your_app_id
ROBLOX_CLIENT_SECRET=your_app_secret
ROBLOX_REDIRECT_URI=http://localhost:5330/roblox/callback

# Server
PORT=5330
FRONTEND_URL=http://localhost:3700
```

### 3. Start the Server

```bash
python server.py
```

### 4. Verify Roblox OAuth App Settings

In [Roblox Creator Hub](https://create.roblox.com/credentials), confirm:
- **Redirect URI**: `http://localhost:5330/roblox/callback`
- **Permissions**: `openid`, `profile`, `asset:read`, `asset:write`

## Packaging as a Standalone App

See the packaging guide below to build a single executable with PyInstaller.

### macOS

```bash
pip install pyinstaller
pyinstaller --onefile --name "Meshy Roblox Bridge" server.py
```

### Windows

```bash
pip install pyinstaller
pyinstaller --onefile --name "MeshyRobloxBridge" server.py
```

The built executable will be in the `dist/` directory and can be distributed to test users.

## Notes

- The `.env` file contains OAuth credentials — **do not** commit it to Git
- Currently uses a private OAuth app (internal testing); switch to a public app to support all users
- Bridge port 5330 is already configured in the Meshy Webapp CSP
